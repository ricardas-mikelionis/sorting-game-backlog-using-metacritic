(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3459],{2070:function(e,n,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return s(8686)}])},8686:function(e,n,s){"use strict";s.r(n),s.d(n,{__N_SSG:function(){return p}});var r=s(7568),t=s(414),a=s(5893),i=s(4184),o=s.n(i),l=s(9808),c=s.n(l),d=s(1664),u=s.n(d),_=s(7294),h=s(1163),m=s(2599);var p=!0;n.default=function(){var e=(0,m.x)().setCurrentUser,n=(0,h.useRouter)(),s=(0,_.useState)(""),i=s[0],l=s[1],d=(0,_.useState)(""),p=d[0],x=d[1],f=(0,_.useState)(""),j=f[0],g=f[1];function v(){return N.apply(this,arguments)}function N(){return N=(0,r.Z)((function(){var s,r;return(0,t.__generator)(this,(function(t){switch(t.label){case 0:return[4,fetch("/api/login",{method:"POST",body:JSON.stringify({user_name:i,password:p}),headers:{"Content-Type":"application/json"}})];case 1:return[4,t.sent().json()];case 2:return(r=t.sent()).error?g(r.error):g(),(null===(s=r.data)||void 0===s?void 0:s.user_name)&&(e(r.data),n.push("/user/".concat(r.data.user_name))),[2]}}))})),N.apply(this,arguments)}var b=function(){var e=(0,r.Z)((function(e){return(0,t.__generator)(this,(function(n){switch(n.label){case 0:return e.preventDefault(),i.match(/^[A-Za-z0-9_]{3,20}$/)?p.trim()?[4,v()]:(g("Woah, Sailor! What's the secret password?"),[2]):(g("Invalid user name, try again!"),[2]);case 1:return n.sent(),[2]}}))}));return function(n){return e.apply(this,arguments)}}();return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:o()("contain_out","back_blue"),children:(0,a.jsx)("div",{className:o()("contain_in"),children:(0,a.jsx)("div",{className:o()(c().login_header,"center"),children:(0,a.jsx)("h1",{children:"Member Login"})})})}),(0,a.jsx)("div",{className:"contain_out",children:(0,a.jsxs)("div",{className:"contain_in",children:[(0,a.jsx)("div",{className:"content_25"}),(0,a.jsxs)("div",{className:"content_50",children:[j?(0,a.jsx)("div",{className:"head_padding back_red shadow_box center",children:j}):null,(0,a.jsx)("div",{className:"in back_primary shadow_box",children:(0,a.jsx)("form",{className:c().login_form,name:"loginform",method:"post",action:"login",onSubmit:b,children:(0,a.jsx)("table",{children:(0,a.jsxs)("tbody",{children:[(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{className:c().login_title,children:(0,a.jsx)("label",{htmlFor:"user_name",children:"Username"})}),(0,a.jsx)("td",{children:(0,a.jsx)("input",{id:"user_name",name:"user_name",className:o()("form_text","back_form"),placeholder:"Username",autoFocus:!0,autoComplete:"username",type:"text",value:i,onChange:function(e){return l(e.target.value.trim())}})})]}),(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{className:c().login_title,children:(0,a.jsx)("label",{htmlFor:"password",children:"Password"})}),(0,a.jsx)("td",{children:(0,a.jsx)("input",{name:"password",placeholder:"Password",className:"form_text back_form",type:"password",autoComplete:"current-password",id:"password",value:p,onChange:function(e){return x(e.target.value)}})})]}),(0,a.jsxs)("tr",{children:[(0,a.jsxs)("td",{className:c().login_title,children:[(0,a.jsx)("input",{type:"submit",className:"form_button back_blue",name:"Submit",value:"Login"}),(0,a.jsx)("input",{type:"hidden",name:"recaptcha_response",id:"recaptchaResponse"})]}),(0,a.jsxs)("td",{children:[(0,a.jsx)(u(),{href:"/login/signup",children:"Sign Up!"})," | ",(0,a.jsx)(u(),{href:"/login/forgotform",children:"Forgot Password?"})]})]})]})})})})]}),(0,a.jsx)("div",{className:"content_25"}),(0,a.jsx)("div",{className:"clear"}),(0,a.jsx)("div",{className:"content_break"})]})})]})}},9808:function(e){e.exports={login_header:"login_login_header__RRKUp",login_form:"login_login_form__yQAGz",login_title:"login_login_title__j0xDp"}}},function(e){e.O(0,[9774,2888,179],(function(){return n=2070,e(e.s=n);var n}));var n=e.O();_N_E=n}]);