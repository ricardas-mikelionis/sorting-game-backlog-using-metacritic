(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2568],{9221:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/forum",function(){return n(626)}])},626:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSP:function(){return w},default:function(){return N}});var s=n(5893),r=n(1664),a=n.n(r),i=n(4184),o=n.n(i),c=n(72),l=n(2599),d=n(144),h=n.n(d);var u=function(){var e=(0,l.x)().currentUser;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:e.user_id>0?"content_50":"content_100",children:(0,s.jsxs)("div",{className:o()(h().links,"in","back_primary","shadow_box"),children:[(0,s.jsx)("h3",{className:"text_green",children:"New Conversations"}),(0,s.jsx)(a(),{href:"/forum/topic/g/new-threads/1",children:(0,s.jsx)("a",{className:"form_button text_primary",children:"Threads"})}),(0,s.jsx)(a(),{href:"/forum/group/g/new-posts/1",children:(0,s.jsx)("a",{className:"form_button text_primary",children:"Posts"})})]})}),e.user_id>0?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"content_50",children:(0,s.jsxs)("div",{className:o()(h().links,"in","back_primary","shadow_box"),children:[(0,s.jsx)("h3",{className:"text_pink",children:"My Conversations"}),(0,s.jsx)(a(),{href:"/forum/topic/u/".concat(e.user_name,"/participated/1"),children:(0,s.jsx)("a",{className:"form_button text_primary",children:"Participated"})}),(0,s.jsx)(a(),{href:"/forum/group/u/".concat(e.user_name,"/mentions/1"),children:(0,s.jsx)("a",{className:"form_button text_primary",children:"Mentions"})}),(0,s.jsx)(a(),{href:"/forum/topic/u/".concat(e.user_name,"/user-threads/1"),children:(0,s.jsx)("a",{className:"form_button text_primary",children:"Threads"})}),(0,s.jsx)(a(),{href:"/forum/group/u/".concat(e.user_name,"/user-posts/1"),children:(0,s.jsx)("a",{className:"form_button text_primary",children:"Posts"})})]})}),(0,s.jsx)("div",{className:"clear"})]}):null]})},m=n(1847),x=n(7568),_=n(414),p=n(7294);var f=function(){var e=(0,p.useState)(0),t=e[0],n=e[1];return(0,p.useEffect)((function(){var e=function(){var e=(0,x.Z)((function(){var e,t;return(0,_.__generator)(this,(function(s){switch(s.label){case 0:return[4,fetch("/api/discord/getUsersOnline",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:"https://discord.com/api/guilds/382923273693822986/widget.json"})})];case 1:return[4,(e=s.sent()).json()];case 2:if(t=s.sent(),!e.ok)throw new Error(t.message||"Failed to change post status!");return n(t.presence_count),[2]}}))}));return function(){return e.apply(this,arguments)}}();e()}),[]),(0,s.jsx)("div",{className:"content_100",children:(0,s.jsxs)("div",{className:o()(h().links,"in","back_primary","shadow_box"),children:[(0,s.jsx)("h3",{className:"text_orange",children:"HowLongToBeat Communities"}),(0,s.jsx)("a",{className:"form_button text_primary",href:"https://discord.com/invite/vzUQAYDa",children:"Discord - ".concat(t," Online")}),(0,s.jsx)(a(),{href:"/forum/topic/g/gotm/1",children:(0,s.jsx)("a",{className:"form_button text_primary",children:"Game of the Month"})}),(0,s.jsx)(a(),{href:"/forum/thread/1289/1",children:(0,s.jsx)("a",{className:"form_button text_primary",children:"HLTB Podcast"})}),(0,s.jsx)("a",{className:"form_button text_primary",href:"https://steamcommunity.com/groups/HowLongToBeat",children:"Steam"}),(0,s.jsx)("a",{className:"form_button text_primary",href:"https://account.xbox.com/en-US/clubs/profile?clubid=3379875685912106",children:"Xbox"}),(0,s.jsx)("a",{className:"form_button text_purple",href:"twitch",children:"Live On Twitch"})]})})},j=n(5722);var v=function(e){var t=e.whoIsOnline,n=e.twitchData;return(0,s.jsx)("div",{className:"content_100",children:(0,s.jsxs)("div",{className:"in back_primary shadow_box",children:[(0,s.jsxs)("h3",{children:[t.length," Members Online"]}),(0,s.jsx)("div",{className:"global_padding",children:t.map((function(e){var t,r;return(0,s.jsxs)(p.Fragment,{children:[(0,s.jsxs)("span",{className:"spreadsheet",style:{margin:"0 5px 1px 0",padding:"2px 3px 0 3px"},children:[(0,s.jsx)(a(),{href:"/user/".concat(e.user_name),children:(0,s.jsx)("a",{className:o()((0,j.getUserRightsClass)(e.user_rights)),style:e.stats_posts>0?{fontWeight:"bold"}:null,children:e.user_name})}),(null===(t=null===n||void 0===n?void 0:n.twitchUsers.find((function(t){return t.user_login.toLowerCase()===(null===e||void 0===e?void 0:e.profile_twitch.toLowerCase())})))||void 0===t?void 0:t.user_name)?(0,s.jsx)("a",{href:"https://twitch.tv/".concat(null===(r=null===n||void 0===n?void 0:n.twitchUsers.find((function(t){return t.user_login.toLowerCase()===(null===e||void 0===e?void 0:e.profile_twitch.toLowerCase())})))||void 0===r?void 0:r.user_name),target:"_blank",rel:"nofollow noopener noreferrer",children:(0,s.jsx)("img",{alt:"Twitch Icon",src:"/img/icon_twitch.svg",style:{width:"15px",height:"15px",marginLeft:"3px"}})}):null]})," "]},"isOnline-".concat(e.user_name))}))})]})})},g=n(4842);var w=!0,N=function(e){var t=e.homeData,n=e.twitchData,r=t.threadData,i=t.whoIsOnline;return r.sort((function(e,t){return parseInt(e.order)-parseInt(t.order)})),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(c.Z,{color:"back_black",title:(0,s.jsxs)(s.Fragment,{children:["Welcome to the ",(0,s.jsx)("span",{className:"text_brand",children:"HowLongToBeat"})," Forum"]}),description:"Check out the latest discussion!"}),(0,s.jsx)("div",{className:o()("contain_out"),children:(0,s.jsxs)("div",{className:o()("contain_in"),children:[(0,s.jsx)(u,{}),r.map((function(e){var t=e.topicLimitMin+1;return(0,s.jsx)("div",{className:"content_100",children:(0,s.jsxs)("div",{className:"in back_primary shadow_box",children:[(0,s.jsxs)("h3",{className:o()("head_padding",e.topicColor),children:[(0,s.jsx)(a(),{href:e.topicUrl,children:(0,s.jsx)("a",{className:"text_white",children:e.topicTitle})}),(0,s.jsx)("span",{className:"mobile_hide_inline",style:{float:"right",fontSize:"75%",lineHeight:"200%"},children:e.topicDesc})]}),(0,s.jsx)("ul",{children:e.topicData.map((function(e){if(t-=1,Date.parse(e.thread_update.replace(" ","T"))>(new Date).getTime()-1728e5||t>0)return(0,s.jsx)(m.Z,{thread:e},e.thread_id)}))})]})},JSON.stringify(e))})),(0,s.jsx)(f,{}),(0,s.jsx)(v,{whoIsOnline:i,twitchData:n}),(0,s.jsx)("div",{className:"content_break"}),(0,s.jsx)(g.Z,{adType:"wide",location:"footer"})]})})]})}},144:function(e){e.exports={links:"Communities_links__bDSfb"}}},function(e){e.O(0,[1156,9774,2888,179],(function(){return t=9221,e(e.s=t);var t}));var t=e.O();_N_E=t}]);