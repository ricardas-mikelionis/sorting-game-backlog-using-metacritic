(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1156],{1847:function(e,a,r){"use strict";var i=r(5893),t=r(1664),s=r.n(t),l=r(4184),d=r.n(l),n=r(2599),c=r(2848),o=r.n(c),h=r(1163),u=r(5722);a.Z=function(e){var a,r,t,l,c=e.thread,_=(0,h.useRouter)(),m=(0,n.x)().currentUser;1===c.thread_hide?l="back_red":"[blog] "===(null===c||void 0===c||null===(a=c.thread_title)||void 0===a?void 0:a.substr(0,7))?l="back_teal":3===c.thread_cat?l="back_orange":1===c.thread_cat&&c.game_id>0?l="back_blueish":1===c.thread_cat?l="back_blue":2===c.thread_cat&&(l="back_pink");var x,f=[];if(1===(null===c||void 0===c?void 0:c.thread_hide)?f.push((0,i.jsx)("span",{className:d()(o().tidbit,"back_red"),children:"Removed"},"flair_".concat(c.thread_id))):Date.parse(c.thread_date.replace(" ","T"))>new Date((new Date).getTime()-1728e5).valueOf()?f.push((0,i.jsx)("span",{className:d()(o().tidbit,"back_green"),children:"New!"},"flair_".concat(c.thread_id))):1===c.thread_sticky&&f.push((0,i.jsx)("span",{className:o().tidbit,children:"\ud83d\udccc"},"flair_".concat(c.thread_id))),"AMA "===(null===c||void 0===c||null===(r=c.thread_title)||void 0===r?void 0:r.substr(0,4)))f.push((0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("span",{className:d()(o().tidbit,"back_pink"),title:"Ask Me Anything",children:"AMA"}),null===(x=c.thread_title)||void 0===x?void 0:x.substr(4,100)]}));else if("[blog] "===(null===c||void 0===c||null===(t=c.thread_title)||void 0===t?void 0:t.substr(0,7))){var p;_.asPath.includes("topic/g/blogs")||"/forum"===_.asPath||f.push((0,i.jsx)("span",{className:d()(o().tidbit,"back_teal"),title:"Backlog Blog",children:"Blog"})),f.push(null===c||void 0===c||null===(p=c.thread_title)||void 0===p?void 0:p.substr(7,100))}else{var j;f.push(null===(j=c.thread_title)||void 0===j?void 0:j.substr(0,100))}return 0===(null===c||void 0===c?void 0:c.thread_hide)||(null===m||void 0===m?void 0:m.user_rights)>=5?(0,i.jsx)("li",{className:"spreadsheet",children:(0,i.jsxs)("div",{className:d()(o().forum_topic,"in"),children:[(0,i.jsx)(s(),{href:"/forum/thread/".concat(c.thread_id,"/").concat(c.thread_pages),children:(0,i.jsx)("a",{title:"Jump to Last Page",children:(0,i.jsx)("div",{className:d()(o().arrow,l),children:"\u203a"})})}),(0,i.jsx)("div",{className:o().forum_topic_col,children:(0,i.jsxs)(i.Fragment,{children:[c.thread_update_uid>0?(0,i.jsx)(s(),{href:"/user/".concat(c.thread_updated_by),children:(0,i.jsx)("a",{className:(0,u.getUserRightsClass)(c.thread_updated_by_rights),children:c.thread_updated_by})}):"No",(0,i.jsx)("br",{}),c.thread_update_uid>0?(0,u.timeAgo)(c.thread_update):"Replies"]})}),(0,i.jsxs)("div",{className:d()(o().forum_topic_col,"right"),children:[(0,i.jsxs)("span",{children:[" ",(0,u.formatNumber)(c.thread_replies)," Replies"]}),(0,i.jsx)("br",{}),(0,i.jsxs)("span",{children:[" ",(0,u.formatNumber)(c.thread_views)," Views"]})]}),(0,i.jsx)("div",{className:o().title,children:(0,i.jsx)(s(),{href:"/forum/thread/".concat(null===c||void 0===c?void 0:c.thread_id,"/1"),children:(0,i.jsx)("a",{className:"text_primary",children:f})})}),(0,i.jsxs)("div",{className:o().details,children:[c.game_id>0&&c.game_name&&!_.asPath.includes("topic/game/")?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s(),{href:"/forum/topic/game/".concat(c.game_id,"/1"),children:(0,i.jsx)("a",{className:"text_primary",title:c.game_name,children:c.game_name.substr(0,25)})}),c.game_name.length>25?(0,i.jsx)(i.Fragment,{children:"\u2026"}):null," | "]}):null,(0,i.jsx)(s(),{href:"/user/".concat(c.user_name),children:(0,i.jsx)("a",{className:d()("mobile_hide",(0,u.getUserRightsClass)(c.user_rights)),children:c.user_name})}),(0,i.jsxs)("span",{className:d()(o().tidbit,"back_form","mobile_show_inline"),children:[(0,u.formatNumber)(c.thread_replies)," Replies"]}),(0,i.jsx)("span",{className:d()(o().tidbit,"back_form","mobile_show_inline"),children:(0,u.timeAgo)(c.thread_update)}),(0,i.jsx)(s(),{href:"/user/".concat(c.thread_updated_by),children:(0,i.jsx)("a",{className:d()("mobile_show_inline",(0,u.getUserRightsClass)(c.thread_updated_by_rights)),children:c.thread_updated_by})})]})]})}):null}},72:function(e,a,r){"use strict";r.d(a,{Z:function(){return b}});var i=r(7568),t=r(414),s=r(5893),l=r(4184),d=r.n(l),n=r(358),c=r.n(n),o=r(1664),h=r.n(o),u=r(1433),_=r.n(u),m=r(1163),x=r(2599);var f=function(e){var a=e.pagination,r=(0,m.useRouter)(),i=(0,x.x)().currentUser;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"content_box_wide scrollable back_dark shadow_box",children:[(0,s.jsxs)("div",{className:_().profile_nav,children:[(0,s.jsxs)("ul",{children:[(0,s.jsx)("li",{className:"back_secondary",children:(0,s.jsx)(h(),{href:"/forum",children:(0,s.jsx)("a",{children:"\u25bc"})})}),(0,s.jsx)("li",{className:r.asPath.includes("/topic/g/all")?"back_green":null,children:(0,s.jsx)(h(),{href:"/forum/topic/g/all/1",children:(0,s.jsx)("a",{children:"All"})})}),(0,s.jsx)("li",{className:r.asPath.includes("/topic/g/gaming")?"back_blue":null,children:(0,s.jsx)(h(),{href:"/forum/topic/g/gaming/1",children:(0,s.jsx)("a",{children:"Gaming"})})}),(0,s.jsx)("li",{className:r.asPath.includes("/topic/g/off-topic")?"back_pink":null,children:(0,s.jsx)(h(),{href:"/forum/topic/g/off-topic/1",children:(0,s.jsx)("a",{children:"Off-Topic"})})}),(0,s.jsx)("li",{className:r.asPath.includes("/topic/g/support")?"back_orange":null,children:(0,s.jsx)(h(),{href:"/forum/topic/g/support/1",children:(0,s.jsx)("a",{children:"Support"})})})]}),(0,s.jsx)("div",{className:"clear"})]}),(0,s.jsxs)("div",{className:"back_secondary",children:[(0,s.jsxs)("div",{id:"forum_top",className:_().forum_buttons,children:[(null===i||void 0===i?void 0:i.user_id)>0?1===(null===i||void 0===i?void 0:i.forum_make_thread)&&1===(null===i||void 0===i?void 0:i.forum_make_post)?r.asPath.includes("forum/thread/")?(0,s.jsx)(h(),{href:"/forum/create/post/".concat(r.query.threadId),children:(0,s.jsx)("a",{className:"form_button back_dark text_white",children:"Reply"})}):(0,s.jsx)(h(),{href:"/forum/create/thread/new",children:(0,s.jsx)("a",{className:"form_button back_dark text_white",children:"Create Thread"})}):r.asPath.includes("forum/thread/")?(0,s.jsx)(h(),{href:"/forum/create/post/".concat(r.query.threadId),children:(0,s.jsx)("a",{className:"form_button back_dark text_white",children:"Reply"})}):(0,s.jsx)("span",{className:"form_button text_white",style:{textDecoration:"line-through",cursor:"not-allowed"},title:"You must have one post to create a thread.",children:"Create Thread"}):(0,s.jsx)(h(),{href:"/login",children:(0,s.jsx)("a",{className:"form_button back_dark text_white",children:"Sign In"})}),r.asPath.includes("forum/thread/")?(0,s.jsx)(h(),{href:"#forum_bottom",children:(0,s.jsx)("a",{className:"form_button back_dark text_white",title:"Go to Bottom",style:{textDecoration:"none"},children:"\u21d3"})}):(0,s.jsx)(h(),{href:"/forum/search",children:(0,s.jsx)("a",{className:"form_button back_dark text_white",children:"Search"})})]}),a?(0,s.jsx)("div",{className:_().pagination,children:a}):null,(0,s.jsx)("div",{className:"clear"})]})]}),(0,s.jsx)("div",{className:"content_break"})]})},p=r(4842),j=r(7294),v=r(5722);var b=function(e){var a=e.threadId,r=void 0===a?null:a,l=e.title,n=e.description,o=e.stats,u=e.game,_=e.color,b=e.isHidden,g=e.pagination,N=e.showNavigation,k=void 0===N||N,w=(0,j.useState)(b),y=w[0],T=w[1],C=(0,x.x)().currentUser,P=(0,m.useRouter)(),R=function(){var e=(0,i.Z)((function(){var e,a;return(0,t.__generator)(this,(function(r){switch(r.label){case 0:return[4,fetch("/api/forum/option/thread",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({threadId:P.query.threadId,option:"hide",param:0===y?1:0,adminId:null===C||void 0===C?void 0:C.user_id,userRights:null===C||void 0===C?void 0:C.user_rights})})];case 1:return[4,(e=r.sent()).json()];case 2:if(a=r.sent(),!e.ok)throw new Error(a.message||"Something went wrong!");return T(0===y?1:0),[2]}}))}));return function(){return e.apply(this,arguments)}}();return(0,s.jsx)("div",{className:d()("contain_out",1===y?"back_red":_,"shadow_box"),children:(0,s.jsxs)("div",{className:d()("contain_in"),children:[(0,s.jsx)("div",{className:"content_box center",children:(0,s.jsx)(p.Z,{adType:"square",location:"incontent"})}),(0,s.jsx)("div",{className:c().forum_header,children:l?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("h1",{className:d()("shadow_text"),children:r?(0,s.jsx)(h(),{href:"/forum/thread/".concat(r,"/1"),children:(0,s.jsx)("a",{className:"text_white",children:l})}):l}),n?(0,s.jsxs)("p",{children:["".concat(n),P.asPath.includes("topic/game/")&&(null===u||void 0===u?void 0:u.id)&&(null===u||void 0===u?void 0:u.name)?(0,s.jsx)(h(),{href:"/game/".concat(u.id),children:(0,s.jsx)("a",{className:"text_white",children:(0,s.jsx)("strong",{children:u.name})})}):null]}):null,(null===u||void 0===u?void 0:u.id)&&(null===u||void 0===u?void 0:u.name)&&!P.asPath.includes("topic/game/")?(0,s.jsx)("p",{children:(0,s.jsx)(h(),{href:"/forum/topic/game/".concat(u.id,"/1"),children:(0,s.jsxs)("a",{className:"text_white",children:[u.name," Discussion"]})})}):null,o?(0,s.jsx)("div",{children:(0,s.jsxs)("ul",{children:[(null===o||void 0===o?void 0:o.views)>0?(0,s.jsxs)("li",{className:d()(c().tidbit,"back_clear"),children:[(0,v.formatNumber)(o.views)," Views"]}):null,(null===o||void 0===o?void 0:o.replies)>0?(0,s.jsxs)("li",{className:d()(c().tidbit,"back_clear"),children:[(0,v.formatNumber)(o.replies)," Replies"]}):null,(null===C||void 0===C?void 0:C.user_rights)>=5?(0,s.jsx)("li",{className:d()(c().tidbit,"back_clear"),onClick:function(){return R()},style:{cursor:"pointer"},children:0===y?"Hide Thread":"Show Thread"}):null]})}):null]}):null}),!0===k?(0,s.jsx)(f,{pagination:g}):null]})})}},2848:function(e){e.exports={forum_topic:"ThreadCard_forum_topic__xlaOx",title:"ThreadCard_title__HaB77",details:"ThreadCard_details__PCAZ_",tidbit:"ThreadCard_tidbit___E1lC",arrow:"ThreadCard_arrow__vetix",forum_left:"ThreadCard_forum_left__zrfWY",forum_right:"ThreadCard_forum_right__t_HGH",forum_topic_col:"ThreadCard_forum_topic_col__XN_Kq"}},358:function(e){e.exports={forum_header:"ThreadHeader_forum_header__p0TXC",tidbit:"ThreadHeader_tidbit__5JLmd"}},1433:function(e){e.exports={forum_buttons:"ThreadNavigation_forum_buttons__ImvJU",profile_nav:"ThreadNavigation_profile_nav__ROTYE",pagination:"ThreadNavigation_pagination__GdkGf"}}}]);