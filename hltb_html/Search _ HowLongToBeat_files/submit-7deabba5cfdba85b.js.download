(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3453],{2808:function(e,a,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/submit",function(){return n(4474)}])},2229:function(e,a,n){"use strict";var r=n(5893),t=n(6716),i=n.n(t),o=n(4184),s=n.n(o),l=n(2010),c=n(7294);a.Z=function(e){var a=e.game,n=(0,c.useState)(!1),t=n[0],o=n[1],d=(0,l.F)().resolvedTheme;if((0,c.useEffect)((function(){return o(!0)}),[]),!t)return null;var u=(null===a||void 0===a?void 0:a.game_image)?{backgroundImage:"dark"===d?"radial-gradient(circle at 50%, rgba(36, 36, 36, 0.85), rgba(36, 36, 36, 0.95) 75%, rgb(36, 36, 36) 100%), url('".concat("https://howlongtobeat.com","/games/").concat(null===a||void 0===a?void 0:a.game_image,"?crop=10:3')"):"radial-gradient(circle at 50%, rgba(236, 148, 68, 0.7), rgba(236, 148, 68, .95) 75%, #ec9444 100%), url('".concat("https://howlongtobeat.com","/games/").concat(null===a||void 0===a?void 0:a.game_image,"?crop=10:3')")}:{};return(0,r.jsx)("div",{className:s()("contain_out","dark"===d?"":"back_orange shadow_box"),children:(0,r.jsx)("div",{className:s()("contain_in",i().background_image),style:u,children:(0,r.jsx)("div",{className:i().submit_header,children:(0,r.jsx)("h1",{children:(null===a||void 0===a?void 0:a.game_name)?"".concat(null===a||void 0===a?void 0:a.game_name," ").concat(1===(null===a||void 0===a?void 0:a.game_name_date)?"(".concat(null===a||void 0===a?void 0:a.release_world.substring(0,4),")"):""):"Submit Playthrough"})})})})}},4474:function(e,a,n){"use strict";n.r(a),n.d(a,{__N_SSG:function(){return _},default:function(){return v}});var r=n(7568),t=n(414),i=n(5893),o=n(4697),s=n(7294),l=n(1163),c=n(1664),d=n.n(c),u=n(4842),m=n(2229);var g=function(e){var a=e.game;return(0,i.jsx)("div",{className:"in spreadsheet",children:(0,i.jsx)(d(),{href:"submit/game/".concat(a.game_id),children:(0,i.jsxs)("a",{style:{textDecoration:"none"},children:[(0,i.jsx)("h3",{className:"",children:a.game_name}),(0,i.jsx)("strong",{className:"text_dark",children:a.game_alias}),(0,i.jsxs)("div",{className:"text_grey",children:[a.release_world?(0,i.jsx)("strong",{children:a.release_world}):null,a.release_world&&a.profile_dev?" - ":null,a.profile_dev?a.profile_dev:null]})]})})})},h=n(3657);var _=!0,v=function(){var e=(0,l.useRouter)(),a=(0,s.useState)(!1),n=a[0],c=a[1],_=(0,s.useState)({count:0,data:[]}),v=_[0],f=_[1],p=(0,s.useState)(""),x=p[0],b=p[1],j=e.query.submitPage?parseInt(e.query.submitPage):1,y=(0,o.y1)((function(e){b(e)}),500);return(0,s.useEffect)((function(){var e=function(){var e=(0,r.Z)((function(e){var a,n;return(0,t.__generator)(this,(function(r){switch(r.label){case 0:return[4,fetch("/api/search",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})];case 1:return[4,(a=r.sent()).json()];case 2:if(n=r.sent(),!a.ok)throw new Error(n.message||"Something went wrong!");return f(n),c(!1),[2]}}))}));return function(a){return e.apply(this,arguments)}}();x.length>0&&(c(!0),e({searchType:"games",searchTerms:x.trim().split(" "),searchPage:j,size:20,searchOptions:{games:{platform:"",sortCategory:"popular",rangeCategory:"",rangeTime:{min:"",max:""},gameplay:{perspective:"",flow:"",genre:""},rangeYear:{min:"",max:""},modifier:""},users:{sortCategory:""},filter:"",sort:"desc",randomizer:0}}))}),[x,j]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(m.Z,{}),(0,i.jsx)("div",{className:"contain_out",children:(0,i.jsxs)("div",{className:"contain_in",children:[(0,i.jsx)("div",{className:"content_100 back_primary shadow_box",children:(0,i.jsxs)("div",{className:"in",children:["new"===e.query.mode?(0,i.jsx)("h3",{children:"Playthrough Added!"}):"delete"===e.query.mode?(0,i.jsx)("h3",{className:"text_red",children:"Playthrough Deleted!"}):null,(0,i.jsx)("p",{children:"Start typing the game you would like to add. Available games will display below. If the game you are looking for does not exist, you may add it to our database."}),(0,i.jsx)("input",{className:"back_form form_text",style:{width:"100%"},"aria-label":"Submission Search",type:"text",placeholder:"Game Title...",autoComplete:"off",autoFocus:"on",onChange:function(e){return y(e.target.value)}})]})}),!1===n?(0,i.jsxs)(i.Fragment,{children:[x.length>0?(0,i.jsx)("div",{className:"content_100 back_primary shadow_box",children:(0,i.jsxs)("div",{className:"in",children:[(0,i.jsx)(d(),{href:"/submit/game/0?name=".concat(encodeURIComponent(x)),children:(0,i.jsx)("a",{className:"form_button back_orange text_white",children:"Not seeing your game? Click here to add it!"})}),(0,i.jsx)("br",{}),v.count>0?null===v||void 0===v?void 0:v.data.map((function(e){return(0,i.jsx)(g,{game:e},"submitSearch-".concat(e.game_id))})):"Sorry, no results found."]})}):null,(null===v||void 0===v?void 0:v.count)>(null===v||void 0===v?void 0:v.pageSize)&&x.length>0?(0,i.jsx)("div",{className:"content_100 back_primary right shadow_box",children:(0,i.jsx)(h.Z,{pageType:"submitPage",pageCurrent:null===v||void 0===v?void 0:v.pageCurrent,pageTotal:null===v||void 0===v?void 0:v.pageTotal})}):null]}):(0,i.jsx)("div",{className:"loading_bar"}),(0,i.jsx)("div",{className:"clear"}),(0,i.jsx)("div",{className:"content_break"}),(0,i.jsx)(u.Z,{adType:"wide",location:"footer"})]})})]})}},6716:function(e){e.exports={submit_header:"SubmitHeader_submit_header__Js__5",background_image:"SubmitHeader_background_image__Nr2GR"}}},function(e){e.O(0,[9774,2888,179],(function(){return a=2808,e(e.s=a);var a}));var a=e.O();_N_E=a}]);