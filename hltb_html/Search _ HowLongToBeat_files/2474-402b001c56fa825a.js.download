(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2474],{2474:function(o,e,s){"use strict";s.d(e,{Z:function(){return b}});var n=s(7568),l=s(414),t=s(5893),i=s(1163),d=s(5722),a=s(2599),r=s(7294),u=s(9766),c=s(4111),v=s.n(c),_=s(4184),p=s.n(_);var m=function(o){var e,s,n=o.nickname,l=o.tagline,i=o.privilege,d=(0,r.useState)("none"),a=d[0],u=d[1];switch(i){case 10:e="text_red",s="Staff";break;case 5:e="text_orange",s="Moderator";break;default:e="text_green",s=n}return(0,t.jsx)("div",{className:p()(v().forum_post_username_label,e),style:{cursor:"crosshair",marginLeft:"5px"},onMouseOver:function(){return u("inline-block")},onMouseOut:function(){return u("none")},children:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{style:{cursor:"crosshair"},children:s}),l?(0,t.jsx)("span",{className:p()("global_padding","back_secondary",v().floater),style:{display:a},children:l}):null]})})},h=s(1664),x=s.n(h),f=s(774),g=s.n(f);function j(o){var e=o.playthroughData,s=e.platform,n=e.user_playing,l=e.user_backlog,i=e.user_replays,a=e.user_custom,r=e.user_custom2,u=e.user_custom3,c=e.user_comp,v=e.user_retired,_=e.set_customtab,p=e.set_customtab2,m=e.set_customtab3,h=e.comp_all;return(0,t.jsx)("div",{children:(0,t.jsxs)("div",{className:g().forum_post_game,children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("strong",{children:"Lists:"}),n>0?(0,t.jsx)("span",{className:"text_green",children:"Playing"}):"",l>0?(0,t.jsx)("span",{className:"text_blue",children:"Backlogged"}):"",i>0?(0,t.jsx)("span",{className:"text_blueish",children:"Replay"}):"",_&&a>0?(0,t.jsx)("span",{className:"text_teal",children:_}):"",p&&r>0?(0,t.jsx)("span",{className:"text_teal",children:p}):"",m&&u>0?(0,t.jsx)("span",{className:"text_teal",children:m}):"",c>0?(0,t.jsx)("span",{className:"text_purple",children:"Completed"}):"",v>0?(0,t.jsx)("span",{className:"text_purple",children:"Retired"}):""]}),s?(0,t.jsxs)("div",{children:[(0,t.jsx)("strong",{children:"Platform:"}),(0,t.jsx)("span",{children:s})]}):null,h>0?(0,t.jsxs)("div",{children:[(0,t.jsx)("strong",{children:"Played:"}),(0,t.jsx)("span",{children:(0,d.secondsToString)(h)})]}):null]})})}var b=function(o){var e,s,c,v,_,h,f,b,N,y,k,w,C,P,D,S,F,I,O,E,R,Z,q,L,M,T,A,H,U,z,Q,B,J,W,Y,G,V,$,K,X,oo,eo,so,no,lo=o.postData,to=o.gameId,io=void 0===to?0:to,ao=o.expandQuote,ro=void 0!==ao&&ao,uo=(0,a.x)().currentUser,co=(0,r.useState)("none"),vo=co[0],_o=co[1],po=(0,r.useState)(!0===ro?"block":"none"),mo=po[0],ho=po[1],xo=(0,r.useState)(),fo=xo[0],go=xo[1],jo=(0,r.useState)(null===lo||void 0===lo||null===(e=lo.post)||void 0===e?void 0:e.isHidden),bo=jo[0],No=jo[1],yo=function(){var o=(0,n.Z)((function(o){var e,s,n,t;return(0,l.__generator)(this,(function(l){switch(l.label){case 0:return e=o.postId,s=o.setStatus,[4,fetch("/api/forum/option/hidePost",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({postId:e,setStatus:s,adminId:null===uo||void 0===uo?void 0:uo.user_id,userRights:null===uo||void 0===uo?void 0:uo.user_rights})})];case 1:return[4,(n=l.sent()).json()];case 2:if(t=l.sent(),!n.ok)throw new Error(t.message||"Failed to change post status!");return No(s),[2]}}))}));return function(e){return o.apply(this,arguments)}}(),ko=function(o){var e,s,n,l,d,a,r,u,c,v,_,p,m,h,f,j,b=o.postData,N=o.currentUser,y=(0,i.useRouter)();return(0,t.jsxs)("div",{id:"".concat(y.asPath,"#post").concat(null===b||void 0===b||null===(e=b.post)||void 0===e?void 0:e.id),className:g().forum_post_options,children:[(null===b||void 0===b||null===(s=b.user)||void 0===s?void 0:s.name)!==(null===N||void 0===N?void 0:N.user_name)&&1===(null===N||void 0===N?void 0:N.forum_make_post)?(0,t.jsxs)(t.Fragment,{children:[(null===b||void 0===b||null===(n=b.thread)||void 0===n?void 0:n.id)&&(null===b||void 0===b||null===(l=b.post)||void 0===l?void 0:l.id)&&(0,t.jsx)(x(),{href:"/forum/create/post/".concat(null===b||void 0===b||null===(d=b.thread)||void 0===d?void 0:d.id,"?quote=").concat(null===b||void 0===b||null===(a=b.post)||void 0===a?void 0:a.id),children:(0,t.jsx)("a",{className:"text_grey",children:"Quote"})}),(null===N||void 0===N?void 0:N.user_name)&&(null===b||void 0===b||null===(r=b.user)||void 0===r?void 0:r.name)&&(0,t.jsx)(x(),{href:"/user/".concat(null===N||void 0===N?void 0:N.user_name,"/pm/").concat(null===b||void 0===b||null===(u=b.user)||void 0===u?void 0:u.name),children:(0,t.jsx)("a",{className:"text_grey",children:"PM"})})]}):null,((null===b||void 0===b||null===(c=b.user)||void 0===c?void 0:c.name)===(null===N||void 0===N?void 0:N.user_name)||(null===N||void 0===N?void 0:N.user_rights)>=5)&&(null===b||void 0===b||null===(v=b.post)||void 0===v?void 0:v.id)>0?(0,t.jsx)(x(),{href:"/forum/create/edit/".concat(null===b||void 0===b||null===(_=b.post)||void 0===_?void 0:_.id),children:(0,t.jsx)("a",{className:(null===N||void 0===N?void 0:N.user_rights)>=5&&(null===b||void 0===b||null===(p=b.user)||void 0===p?void 0:p.name)!==(null===N||void 0===N?void 0:N.user_name)?"text_red":"text_grey",children:"Edit"})}):null,(null===N||void 0===N?void 0:N.user_rights)>=5&&(null===b||void 0===b||null===(m=b.post)||void 0===m?void 0:m.id)>0?1===bo?(0,t.jsx)("a",{className:"text_red",style:{cursor:"pointer"},onClick:function(){var o;return yo({postId:null===b||void 0===b||null===(o=b.post)||void 0===o?void 0:o.id,setStatus:0})},children:"Show"}):(0,t.jsx)("a",{className:"text_red",style:{cursor:"pointer"},onClick:function(){var o;return yo({postId:null===b||void 0===b||null===(o=b.post)||void 0===o?void 0:o.id,setStatus:1})},children:"Hide"}):null,(null===b||void 0===b||null===(h=b.post)||void 0===h?void 0:h.number)?(0,t.jsx)(x(),{href:"".concat(y.basePath,"#post").concat(null===b||void 0===b||null===(f=b.post)||void 0===f?void 0:f.id),children:(0,t.jsx)("a",{className:"text_grey",children:"#".concat(null===b||void 0===b||null===(j=b.post)||void 0===j?void 0:j.number)})}):null]})};return(0,r.useEffect)((function(){var o,e=function(){var o=(0,n.Z)((function(o){var e,s,n,t;return(0,l.__generator)(this,(function(l){switch(l.label){case 0:return e=o.gameId,s=o.userName,[4,fetch("/api/forum/getPlaythrough",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({gameId:e,userName:s})})];case 1:return[4,(n=l.sent()).json()];case 2:if(t=l.sent(),!n.ok)throw new Error(t.message||"Failed to change post status!");return go(t),[2]}}))}));return function(e){return o.apply(this,arguments)}}();io>0&&e({gameId:io,userName:null===lo||void 0===lo||null===(o=lo.user)||void 0===o?void 0:o.name})}),[]),(0,t.jsx)(t.Fragment,{children:1===(null===lo||void 0===lo||null===(s=lo.post)||void 0===s?void 0:s.isHidden)&&uo.user_rights>=5||0===(null===lo||void 0===lo||null===(c=lo.post)||void 0===c?void 0:c.isHidden)?(0,t.jsx)("div",{id:"post".concat(null===lo||void 0===lo||null===(v=lo.post)||void 0===v?void 0:v.id),className:"content_100",children:(0,t.jsxs)("div",{className:p()(g().forum_post_box,1===bo?"back_red":"back_primary","shadow_box"),children:[(0,t.jsxs)("div",{className:p()(g().forum_post_head,"back_form"),children:[(null===lo||void 0===lo||null===(_=lo.user)||void 0===_?void 0:_.name)?(0,t.jsx)(x(),{href:"/user/".concat(null===(h=lo.user)||void 0===h?void 0:h.name),children:(0,t.jsx)("a",{className:p()(g().forum_post_username,(0,d.getUserRightsClass)(null===lo||void 0===lo||null===(f=lo.user)||void 0===f?void 0:f.rights)),children:null===(b=lo.user)||void 0===b?void 0:b.name})}):"Deleted",(null===lo||void 0===lo||null===(N=lo.user)||void 0===N?void 0:N.nickname)||(null===lo||void 0===lo||null===(y=lo.user)||void 0===y?void 0:y.rights)>=5?(0,t.jsx)(m,{nickname:null===lo||void 0===lo||null===(k=lo.user)||void 0===k?void 0:k.nickname,tagline:null===lo||void 0===lo||null===(w=lo.user)||void 0===w?void 0:w.tagline,privilege:null===lo||void 0===lo||null===(C=lo.user)||void 0===C?void 0:C.rights}):null,(0,t.jsx)("span",{className:"mobile_show_inline",style:{opacity:".8",marginLeft:"5px"},children:(0,t.jsx)(u.Z,{donated:null===lo||void 0===lo||null===(P=lo.user)||void 0===P?void 0:P.donated,signup:null===lo||void 0===lo||null===(D=lo.user)||void 0===D?void 0:D.accountAge,completed:null===lo||void 0===lo||null===(S=lo.user)||void 0===S?void 0:S.completed,posts_count:null===lo||void 0===lo||null===(F=lo.user)||void 0===F?void 0:F.posts})}),(0,t.jsx)(ko,{currentUser:uo,postData:lo}),(0,t.jsx)("div",{className:"clear"})]}),(0,t.jsxs)("div",{className:p()("in"),children:[(0,t.jsxs)("div",{className:p()(g().forum_post_left,"center"),children:[(0,t.jsx)("img",{alt:"'s Avatar",src:"".concat("https://howlongtobeat.com","/avatars/").concat((null===(I=lo.user)||void 0===I?void 0:I.avatar)?null===(O=lo.user)||void 0===O?void 0:O.avatar:"no_avatar.png")}),(0,t.jsx)("span",{className:"mobile_hide",style:{opacity:".8"},children:(0,t.jsx)(u.Z,{donated:null===lo||void 0===lo||null===(E=lo.user)||void 0===E?void 0:E.donated,signup:null===lo||void 0===lo||null===(R=lo.user)||void 0===R?void 0:R.accountAge,completed:null===lo||void 0===lo||null===(Z=lo.user)||void 0===Z?void 0:Z.completed,posts_count:null===lo||void 0===lo||null===(q=lo.user)||void 0===q?void 0:q.posts})})]}),(0,t.jsxs)("div",{className:g().forum_post_right,children:[(null===(L=lo.post)||void 0===L?void 0:L.quote)>0?(null===(M=lo.post)||void 0===M||null===(T=M.quoteContext)||void 0===T?void 0:T.comment)?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{children:(0,t.jsxs)("span",{className:p()("form_button",(null===uo||void 0===uo?void 0:uo.user_name)===(null===(A=lo.post)||void 0===A||null===(H=A.quoteContext)||void 0===H?void 0:H.userName)?"back_blue":"back_secondary"),onClick:function(){return ho("none"===mo?"block":"none")},children:["Replying to ",(0,t.jsx)("strong",{children:null===(U=lo.post)||void 0===U||null===(z=U.quoteContext)||void 0===z?void 0:z.userName})]})}),(0,t.jsx)("blockquote",{className:"global_padding",style:{display:mo},children:(0,d.bbParse)(null===(Q=lo.post)||void 0===Q||null===(B=Q.quoteContext)||void 0===B?void 0:B.comment)})]}):(0,t.jsx)("div",{children:(0,t.jsx)("span",{className:"form_button text_secondary",children:"Quoted Post No Longer Exists"})}):null,(0,d.bbParse)(null===(J=lo.post)||void 0===J?void 0:J.comment),(null===fo||void 0===fo?void 0:fo.user_name)?(0,t.jsx)(j,{playthroughData:fo}):null]}),(0,t.jsx)("div",{className:"clear"}),(0,t.jsx)("div",{className:g().forum_post_foot,children:(0,t.jsxs)("div",{className:p()(g().forum_post_timestamp,"text_grey"),onMouseOver:function(){return _o("inline-block")},onMouseOut:function(){return _o("none")},style:{display:(null===lo||void 0===lo||null===(W=lo.post)||void 0===W?void 0:W.id)>0?"block":"none"},children:["0000-00-00 00:00:00"!==(null===lo||void 0===lo||null===(Y=lo.post)||void 0===Y?void 0:Y.updated)&&(null===lo||void 0===lo||null===(G=lo.post)||void 0===G?void 0:G.updated)!==(null===lo||void 0===lo||null===(V=lo.post)||void 0===V?void 0:V.date)?"Edited ".concat((0,d.timeAgo)(null===lo||void 0===lo||null===($=lo.post)||void 0===$?void 0:$.updated)," "):"Posted ".concat((0,d.timeAgo)(null===lo||void 0===lo||null===(K=lo.post)||void 0===K?void 0:K.date)," "),(0,t.jsx)("div",{style:{display:vo},children:"@ ".concat("0000-00-00 00:00:00"!==(null===lo||void 0===lo||null===(X=lo.post)||void 0===X?void 0:X.updated)&&(null===lo||void 0===lo||null===(oo=lo.post)||void 0===oo?void 0:oo.updated)!==(null===lo||void 0===lo||null===(eo=lo.post)||void 0===eo?void 0:eo.date)?null===lo||void 0===lo||null===(so=lo.post)||void 0===so?void 0:so.updated:null===lo||void 0===lo||null===(no=lo.post)||void 0===no?void 0:no.date," UTC")})]})})]})]})}):null})}},9766:function(o,e,s){"use strict";var n=s(5893),l=s(6355),t=s.n(l);e.Z=function(o){var e=o.donated,s=o.signup,l=o.completed,i=o.posts_count,d=o.overrideLoved,a=void 0!==d&&d,r=o.overrideFounder,u=void 0!==r&&r,c=s?new Date(s.replace(" ","T")):new Date,v=u||s&&c<new Date("2012-01-01"),_=a||e>=20&&l>=15&&i>=10||e>=5&&l>=100&&i>=50||l>=150&&i>=514;if(!_&&!e&&l<25&&i<25&&!v)return null;var p=Math.floor((Date.now()-c)/1e3/60/60/24/365),m="bronze_low",h=25;l>=1e3?(m="gold",h=1e3):l>=500?(m="gold_low",h=500):l>=250?(m="silver",h=250):l>=100?(m="silver_low",h=100):l>=50&&(m="bronze",h=50);var x="bronze_low",f=25;return i>=1e3?(x="gold",f=1e3):i>=500?(x="gold_low",f=500):i>=250?(x="silver",f=250):i>=100?(x="silver_low",f=100):i>=50&&(x="bronze",f=50),(0,n.jsxs)("span",{className:t().badge_container,children:[p>=1&&(0,n.jsxs)("span",{className:t().years_ago,title:"".concat(p," Year(s)"),children:[p,(0,n.jsxs)("span",{className:"mobile_hide",children:[" Yr",p>1&&"s"]})]}),_&&(0,n.jsx)("span",{className:"badge_loved sm",title:"Loved!",children:"\u2665"}),v&&(0,n.jsx)("span",{className:"badge_founder sm",title:"Founding Figure",children:"F"}),e>0&&(0,n.jsx)("span",{className:"badge_donated sm",title:"Donated!",children:"$"}),l>=25&&(0,n.jsx)("span",{className:"badge_".concat(m),title:"Completed Over ".concat(h," Games!"),children:"\u2713"}),i>=25&&(0,n.jsx)("span",{className:"badge_".concat(x),title:"".concat(f,"+ Posts"),children:"#"})]})}},774:function(o){o.exports={forum_post_box:"PostCard_forum_post_box__w6ul3",forum_post_head:"PostCard_forum_post_head___0Q60",forum_post_game:"PostCard_forum_post_game__uyLWV",forum_post_foot:"PostCard_forum_post_foot__07Sy4",forum_post_options:"PostCard_forum_post_options__tWtse",forum_post_username:"PostCard_forum_post_username__6Fc8o",forum_post_timestamp:"PostCard_forum_post_timestamp__5jfbR",forum_post_left:"PostCard_forum_post_left__nl_tm",forum_post_right:"PostCard_forum_post_right__Rxgp7"}},6355:function(o){o.exports={badge_container:"DisplayBadge_badge_container__ZfDJW",years_ago:"DisplayBadge_years_ago__tofID"}},4111:function(o){o.exports={forum_post_username_label:"DisplayForumNickname_forum_post_username_label__d02HD",floater:"DisplayForumNickname_floater__4YooZ"}}}]);