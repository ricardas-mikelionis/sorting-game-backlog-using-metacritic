(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8862],{4695:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/feedback",function(){return n(1336)}])},1336:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSG:function(){return _}});var a=n(7568),r=n(414),s=n(5893),i=n(4184),c=n.n(i),o=n(8256),d=n.n(o),l=n(1664),u=n.n(l),h=n(4842),m=n(2599),f=n(7294),x=n(5722);var _=!0;t.default=function(e){var t=e.validationCode,n=(0,m.x)().currentUser,i=(0,f.useState)(""),o=i[0],l=i[1],_=(0,f.useState)(""),p=_[0],b=_[1],v=(0,f.useState)(""),j=v[0],y=v[1],g=(0,f.useState)(0),k=g[0],N=g[1],w=(0,f.useState)(""),S=w[0],E=w[1],C=(0,f.useState)(!1),F=C[0],P=C[1];function T(){return(T=(0,a.Z)((function(){var e,t;return(0,r.__generator)(this,(function(a){switch(a.label){case 0:return e="".concat((null===n||void 0===n?void 0:n.user_name)?"".concat(n.user_name," (").concat(p,")"):p),[4,fetch("/api/feedback",{method:"POST",body:JSON.stringify({type:"feedback",recipient_email:p,subject:"Site feedback from ".concat((null===n||void 0===n?void 0:n.user_name)?"User:":"Viewer:"," ").concat(o),plaintext_body:"".concat(j," \r\n \r\n ").concat(e),html_body:"".concat((0,x.htmlToReact)(j)," <br /><br /> ").concat(e)}),headers:{"Content-Type":"application/json"}})];case 1:return[4,a.sent().json()];case 2:return(t=a.sent()).error?E(t.error):P(!0),[2]}}))}))).apply(this,arguments)}(0,f.useEffect)((function(){l(null===n||void 0===n?void 0:n.user_name)}),[null===n||void 0===n?void 0:n.user_name]);var Z=function(){var e=(0,a.Z)((function(e){return(0,r.__generator)(this,(function(n){return e.preventDefault(),o.match(/^[A-Za-z0-9_]{3,75}$/)?p.match(/^[^@]+@[a-zA-Z0-9._-]+\.[a-zA-Z]+$/)||""!==j.trim()?!j.trim()||j.length<6?(E("Please provide more feedback in your comment field."),[2]):Number(k)<1e3||Number(k)!==t?(E("Please enter the validation number."),[2]):(E(""),function(){T.apply(this,arguments)}(),[2]):(E("Email address is not valid."),[2]):(E("Please Enter a Proper Name / User Name."),[2])}))}));return function(t){return e.apply(this,arguments)}}();return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"contain_out back_orange shadow_box",children:(0,s.jsx)("div",{className:"contain_in",children:(0,s.jsx)("div",{className:c()(d().feedback_header,"shadow_text"),children:"Site Feedback"})})}),(0,s.jsx)("div",{className:"contain_out",children:(0,s.jsx)("div",{className:"contain_in",children:(0,s.jsx)("div",{className:"content_100",children:(0,s.jsx)("div",{className:"in back_primary shadow_box",children:!0===F?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("h2",{children:"Submission Successful"}),(0,s.jsx)("p",{children:"Thank you, your feedback is appreciated."})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("p",{children:"Found a problem? Have an idea for a site feature? Let us know!"}),(0,s.jsx)("br",{}),(0,s.jsxs)("form",{method:"post",action:"feedback",onSubmit:Z,children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Name:"}),(0,s.jsx)("br",{}),(null===n||void 0===n?void 0:n.user_id)>0?(0,s.jsx)("span",{className:"global_padding",children:null===n||void 0===n?void 0:n.user_name}):(0,s.jsx)("input",{className:"form_text back_form",style:{minWidth:"285px",width:"30%"},type:"text",defaultValue:o,onChange:function(e){return l(e.target.value)}})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Email:"}),(0,s.jsx)("br",{}),(0,s.jsx)("input",{className:"form_text back_form",style:{minWidth:"285px",width:"30%"},type:"text",defaultValue:p,onChange:function(e){return b(e.target.value)}})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Comment:"}),(0,s.jsx)("br",{}),(0,s.jsx)("textarea",{className:"form_text back_form",style:{height:"150px",width:"100%"},defaultValue:j,onChange:function(e){return y(e.target.value)}}),(0,s.jsx)("br",{}),(0,s.jsxs)("p",{className:"text_grey",style:{fontSize:"75%"},children:["By submitting this form you agree to our"," ",(0,s.jsx)(u(),{href:"/privacy",children:(0,s.jsx)("a",{children:"privacy policy"})}),". If an email is provided, we may use it for the sole purpose of contacting you."]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("input",{className:"form_text back_form",type:"text",style:{width:"70px"},name:"validate",onChange:function(e){return N(e.target.value)}}),(0,s.jsxs)("span",{children:[" ","Enter ",(0,s.jsx)("strong",{children:t})," to confirm."]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("input",{type:"submit",className:"form_button back_blue",value:"Submit Feedback"}),S?(0,s.jsxs)(s.Fragment,{children:[" ",(0,s.jsx)("strong",{className:"text_red",children:S})]}):null]})]})]})})})})}),(0,s.jsx)(h.Z,{adType:"wide",location:"footer"})]})}},8256:function(e){e.exports={feedback_header:"feedback_feedback_header__5wlIk"}}},function(e){e.O(0,[9774,2888,179],(function(){return t=4695,e(e.s=t);var t}));var t=e.O();_N_E=t}]);